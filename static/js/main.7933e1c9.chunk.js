(this["webpackJsonpreact-ffmpeg-twitter-iikanji"]=this["webpackJsonpreact-ffmpeg-twitter-iikanji"]||[]).push([[0],{17:function(e,t,a){e.exports=a(52)},22:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(13),o=a.n(r),i=(a(22),a(16)),l=a(2),u=a.n(l),s=a(14),m=a(1),f=a(54),p=a(15);a(51);var d=function(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(""),l=Object(m.a)(o,2),d=l[0],b=l[1],j=Object(n.useState)("Click Start to transcode"),g=Object(m.a)(j,2),v=g[0],O=g[1],h=Object(n.useState)(null),E=Object(m.a)(h,2),w=E[0],k=E[1],S=Object(n.useState)('-threads 8\n-vf "pad=ceil(iw/2)*2:ceil(ih/2)*2"\n-pix_fmt yuv420p\n-strict experimental\n-r 30\n-acodec aac\n-ar 44100 -ac 2\n-vb 1024k\n-minrate 1024k -maxrate 1024k -bufsize 1024k'),x=Object(m.a)(S,2),y=x[0],C=x[1],F=Object(n.useState)("mp4"),B=Object(m.a)(F,2),L=B[0],I=B[1],J=Object(n.useState)(""),N=Object(m.a)(J,2),R=N[0],U=N[1],W=Object(n.useState)([]),z=Object(m.a)(W,2),A=z[0],M=z[1],$=function(){var e=Object(s.a)(u.a.mark((function e(){var t,a,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),t=Object(p.createFFmpeg)({log:!0,logger:function(e){var t=e.message;U(t)}}),M([]),O("Loading ffmpeg-core.js"),e.next=6,t.load();case 6:return O("Start transcoding..."),a=Object(f.a)(),n="".concat(Object(f.a)(),".").concat(L),e.next=11,t.write(a,w);case 11:return e.next=13,t.transcode(a,n,y.split("\n").join(" "));case 13:O("Complete transcoding! If need more transcoding, you should reload this page"),c=t.read(n),b(URL.createObjectURL(new Blob([c.buffer],{type:"video/".concat(L)})));case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){""!==R&&M((function(e){return[].concat(Object(i.a)(e),[R])}))}),[R]),c.a.createElement("div",{className:"App"},c.a.createElement("p",null),c.a.createElement("video",{src:d,controls:!0},c.a.createElement("track",{kind:"cap"})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"file"},c.a.createElement("input",{id:"file",type:"file",onChange:function(e){e.target.files&&k(e.target.files[0])},disabled:a}))),c.a.createElement("br",null),c.a.createElement("div",null,"ffmpeg -i inputFile\xa0",c.a.createElement("textarea",{name:"",className:"transcode-option",cols:45,rows:10,value:y,onChange:function(e){C(e.target.value)}}),"\xa0outputFile.",c.a.createElement("input",{type:"text",value:L,onChange:function(e){I(e.target.value)}})),c.a.createElement("div",null,c.a.createElement("button",{type:"button",onClick:$,disabled:!w||a},"Start")),c.a.createElement("p",null,v),c.a.createElement("pre",null,c.a.createElement("code",null,A.map((function(e){return"".concat(e,"\n")})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(d,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.7933e1c9.chunk.js.map